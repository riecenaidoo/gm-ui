<div class="control-bar" role="toolbar" aria-label="'Catalogue Controls'">
  <button
    appHotkey
    hotkey="1"
    (pressed)="createPlaylistDialog.showModal()"
    (click)="createPlaylistDialog.showModal()"
    title="Create a Playlist"
    aria-label="Create a Playlist"
    [class.highlight]="createPlaylistDialog.open"
  >
    <i class="fa fa-plus" aria-hidden="true"></i>
  </button>
  <input
    #playlistSearchInput
    appTextSearchInput
    appHotkey
    hotkey="q"
    (pressed)="playlistSearchInput.focus()"
    (searchedText)="filterPlaylists($event)"
    (searchCleared)="clearFilter()"
    [value]="playlistTitleFilter() ?? ''"
    placeholder="Search within Catalogue"
  />
</div>
<section title="Catalogue Playlists" class="page-scrolling">
  @for (playlist of playlists(); track playlist.id) {
    <!--    [track playlist.id](https://angular.dev/api/core/@for#track-and-objects-identity)-->
    <article
      class="tile"
      app-playlist-tile
      [playlist]="playlist"
      (selected)="openPlaylist($event)"
    ></article>
  } @empty {
    <article
      class="tile"
      app-playlist-create-tile
      (creatingPlaylist)="createPlaylistDialog.showModal()"
    ></article>
  }
</section>

<dialog
  #createPlaylistDialog
  appModal
  (close)="createPlaylistForm.reset()"
  class="modal"
>
  <form
    #createPlaylistForm
    app-playlist-create-form
    method="dialog"
    (submitted)="refresh()"
    [initialTitle]="defaultPlaylistTitle()"
  ></form>
</dialog>
